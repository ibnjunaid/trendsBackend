{"version":3,"sources":["components/Hashtag/MapChart.js","components/Hashtag/Hashtag.js"],"names":["getCode","require","CodeMap","data","setTooltipContent","countryCode","filter","d","undefined","name","toShow","forEach","cCode","trend","tweet_volume","className","map","backgroundColor","zoomOnScroll","containerStyle","width","height","containerClassName","regionStyle","initial","fill","stroke","hover","cursor","selected","regionsSelectable","series","regions","values","scale","normalizeFunction","fetchTrendData","tag","setTrendDetail","a","axios","post","response","isAxiosError","window","e","Hashtag","urlencode","decode","replace","parseTag","useParams","hashtag","woeid","useContext","GlobalContext","useState","city","setCity","trendingLocations","trendDetail","useLayoutEffect","filterCity","useEffect","length","Helmet","index","onChange","target","value","t","MapChart","color"],"mappings":"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","file":"static/js/4.8abdca72.chunk.js","sourcesContent":["import React from \"react\";\nimport { VectorMap } from \"react-jvectormap\";\n\n\nconst { getCode } = require(\"country-list\"); \n\n\nconst CodeMap = (data, {setTooltipContent}) => {\n  if(data){\n    const countryCode = data.data.filter((d) => getCode(d.name) !== undefined);\n    var toShow = {};\n    countryCode.forEach(d => {\n      const cCode = getCode(d.name);\n      toShow[cCode] = d.trend.tweet_volume;\n    })\n  }\n  return (\n    <div className='map-chart'>\n      <VectorMap\n        map={\"world_mill\"}\n        backgroundColor=\"transparent\" //change it to ocean blue: #0077be\n        zoomOnScroll={false}\n        containerStyle={{\n          width: \"100%\",\n          height: \"600px\"\n        }}\n        containerClassName=\"map\"\n        regionStyle={{\n          initial: {\n            fill: \"#e4e4e4\",\n            \"fill-opacity\": 0.9,\n            stroke: \"none\",\n            \"stroke-width\": 0,\n            \"stroke-opacity\": 0\n          },\n          hover: {\n            \"fill-opacity\": 0.8,\n            cursor: \"pointer\",\n          },\n          selected: {\n            fill: \"#000\" //color for the clicked country\n          },  \n        }}\n        regionsSelectable={false}\n        \n        series={{\n          regions: [\n            {\n              values: toShow, //this is your data\n              scale: [\"#146804\", \"#ff0000\"], //your color game's here\n              normalizeFunction: \"polynomial\"\n            }\n          ]\n        }}\n      />\n    </div>\n  );\n};\nexport default CodeMap;","//import { Content } from 'antd/lib/layout/layout';\nimport axios from 'axios';\nimport { useEffect, useState, useContext, useLayoutEffect } from 'react';\nimport Helmet from 'react-helmet';\nimport { useParams } from 'react-router';\nimport urlencode from 'urlencode';\nimport {GlobalContext} from '../../global'\nimport './hashtag.css';\nimport MapChart from './MapChart';\nimport {HashLoader} from 'react-spinners';\n\n\nfunction parseTag(tag){\n    tag = urlencode.decode(tag);\n    if(tag[0] === '_'){\n        return tag.replace('_','#');\n    }\n    return tag;\n}\n\n\n\nconst fetchTrendData = async(tag,setTrendDetail) => {\n    try {\n        const response = await axios.post('https://trendsend.herokuapp.com/trends/trend-details',{\n            trend : tag\n        })\n        setTrendDetail(response.data.data);\n    } catch (error) {\n        if(error.isAxiosError){\n            window.e = error;\n            // openNotification(error.response.statusText,error.response.data.message);\n        }\n    }\n}\n\nconst Hashtag = () => {\n    let params = useParams();\n    let tag = parseTag(params.hashtag);\n    const {woeid} = useContext(GlobalContext);\n    const [city, setCity] = useState(woeid);\n    \n    const [trendDetail, setTrendDetail] = useState({trendingLocations: []});\n\n    useLayoutEffect(() => {\n        setCity(city)\n    },[city])\n\n    const countryHandler = (e) => {\n        setCity(e.target.value);\n    }\n    const filterCity = trendDetail.trendingLocations.filter(d => d.name === city);\n\n    useEffect(() =>{\n        fetchTrendData(tag,setTrendDetail);\n    },[tag, city]);\n\n    if(trendDetail.trendingLocations.length > 1){\n        return (\n            <div className='hashtag'>\n            <Helmet>\n                <title>{tag}</title>\n            </Helmet>\n            <div className='hashtag-box'>\n                <div>\n                    <h2 className='hash-line'>Trending at <span className='hash-index'>#{filterCity[0].trend.index}</span> in \n                        <select className='country-drop' onChange={countryHandler}>\n                            {trendDetail.trendingLocations.map(t => {\n                                if(t.trend.name=== woeid){\n                                    return (\n                                        <option selected={true} key={t.name}>{t.name}</option>\n                                    )\n                                }\n                                return (\n                                        <option className='select-items' value={t.name} key={t.name}>{t.name}</option>\n                                )\n                            })}\n                        </select>\n                    </h2>\n                    <div>\n                    <h1 className='hashtag-name'>{tag}</h1>\n                    </div>\n                    <div className='details'>\n                        <div><span className='details-1'>{filterCity[0].trend.tweet_volume === 0 ? 'N.A' : filterCity[0].trend.tweet_volume}</span> No. of Tweets</div>\n                        <div><span className='details-1'>#{filterCity[0].trend.index}</span> Highest Rank</div>\n                    </div>\n                    <div className='tweet-location'>\n                        <p>Tweeted in <span>{trendDetail.trendingLocations.length}</span> other locations.</p>\n                    </div>\n                    <div>\n                        <MapChart data={trendDetail.trendingLocations}  />\n                        {/* <ReactTooltip>{mapContent}</ReactTooltip> */}\n                    </div>\n                </div>\n            </div>\n            <div className='top-tweets-box'>\n            </div>\n            </div>\n        )\n    } else {\n        return (\n            <div className='hashtag'>\n            <Helmet>\n                <title>Please Wait</title>\n            </Helmet>\n            <div className='hash-loader'>\n                <HashLoader color='#00a2f5' />\n            </div>\n            </div>\n        )\n    }\n\n}\nexport default Hashtag;"],"sourceRoot":""}