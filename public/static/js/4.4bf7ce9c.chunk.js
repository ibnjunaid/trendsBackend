(this.webpackJsonptwitter_trends=this.webpackJsonptwitter_trends||[]).push([[4],{107:function(e,t){},108:function(e,t){},109:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var c=n(7),a=n(21),s=n.n(a),i=n(26),r=n(2),l=n(1),o=n(28),d=n(6),j=n(85),u=n.n(j),h=n(12),b=(n(109),n(17)),O=n(29),x=n(9);var v=function(){var e=Object(l.useContext)(h.a),t=e.city,n=e.country,a=e.setData,s=e.setTime,i=Object(l.useState)(null),o=Object(c.a)(i,2),d=(o[0],o[1]),j=window.sessionStorage.getItem("data");if(null===j){var u=void 0===t?n:t;Object(O.b)(u,a,s,d),j=window.sessionStorage.getItem("data")}var b=JSON.parse(j);return b?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{className:"tt-tag",children:"Trending Now"}),Object(r.jsx)("ul",{className:"tt-trends",children:b[0].trends.filter((function(e,t){return t<10})).map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(x.b,{to:"/".concat(n).concat(void 0===t?"":"/"+t,"/trend/").concat(e.name.replace(/#/g,"_")),children:e.name})},e.index)}))})]}):null},m=n(110),p=n(121);var f=function(e){if(e)var t=e.mapData.filter((function(e){return void 0!==Object(p.getCode)(e.name)})).map((function(e){return{country:Object(p.getCode)(e.name),value:e.trend.tweet_volume+1}}));return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(m.WorldMap,{color:"red",size:"lg",data:t,tooltipBgColor:"#017acd",styleFunction:function(e){var t={fill:"#017acd",fillOpacity:.5+1.5*(e.countryValue-e.minValue)/(2*e.maxValue-e.minValue),stroke:"black",strokeWidth:1,strokeOpacity:1.5};return 1===e.countryValue?(t.fill="#c0c0c0",t):t},tooltipTextFunction:function(e,t,n){return 1===Number(n)?e.toString():e+" : "+n}})})};var g=function(){var e=Object(i.a)(s.a.mark((function e(t,n,c){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://trendsend.herokuapp.com/trends/trend-details",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({trend:t})});case 3:if(!(a=e.sent).ok){e.next=12;break}return e.next=7,a.json();case 7:i=e.sent,n(i.data),c(null),e.next=14;break;case 12:throw console.log(a),a;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),c(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n,c){return e.apply(this,arguments)}}();t.default=function(){var e=function(e){return"_"===(e=u.a.decode(e))[0]?e.replace("_","#"):e}(Object(d.g)().hashtag),t=Object(l.useContext)(h.a),n=t.city,a=t.country,s=void 0===n?a:n,i=Object(l.useState)(null),j=Object(c.a)(i,2),O=j[0],x=j[1],m=Object(l.useState)(s),p=Object(c.a)(m,2),N=p[0],w=p[1],y=Object(l.useState)({trendingLocations:[]}),k=Object(c.a)(y,2),S=k[0],T=k[1];Object(l.useLayoutEffect)((function(){w(N)}),[N]);var L,_,C,V,F,J,D,W,A,E=S.trendingLocations.filter((function(e){return e.name===N}));return Object(l.useEffect)((function(){g(e,T,x)}),[e,N]),console.log(O),null===O?S.trendingLocations.length>1?Object(r.jsxs)("div",{className:"hashtag",children:[Object(r.jsx)(o.a,{children:Object(r.jsx)("title",{children:e})}),Object(r.jsx)("div",{className:"hashtag-box",children:Object(r.jsxs)("div",{children:[Object(r.jsxs)("h2",{className:"hash-line",children:["Trending at",Object(r.jsxs)("span",{className:"hash-index",children:["#",null===(L=E[0])||void 0===L||null===(_=L.trend)||void 0===_?void 0:_.index]}),"in",Object(r.jsxs)("select",{className:"country-drop",onChange:function(e){w(e.target.value)},children:[S.trendingLocations.map((function(e){return e.trend.name===N?Object(r.jsx)("option",{selected:!0,children:e.name},e.name):Object(r.jsx)("option",{className:"select-items",value:e.name,children:e.name},e.name)}))," "]})]}),Object(r.jsx)("div",{children:Object(r.jsx)("h1",{className:"hashtag-name",children:e})}),Object(r.jsxs)("div",{className:"details",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"details-1",children:0===(null===(C=E[0])||void 0===C||null===(V=C.trend)||void 0===V?void 0:V.tweet_volume)?"N.A":(A=null===(F=E[0])||void 0===F||null===(J=F.trend)||void 0===J?void 0:J.tweet_volume,A>1e3?Math.floor(A/1e3)+"k":A)}),"No. of Tweets"]}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{className:"details-1",children:["#",null===(D=E[0])||void 0===D||null===(W=D.trend)||void 0===W?void 0:W.index]}),"Highest Rank"]})]}),Object(r.jsx)("div",{className:"tweet-location",children:Object(r.jsxs)("p",{children:["Tweeted in",Object(r.jsx)("span",{children:S.trendingLocations.length}),"other locations."]})}),Object(r.jsxs)("div",{children:[" ",Object(r.jsx)(f,{mapData:S.trendingLocations})," "," "]})]})}),Object(r.jsx)("div",{className:"top-tweets-box",children:Object(r.jsx)(v,{})})]}):Object(r.jsxs)("div",{className:"hashtag",children:[Object(r.jsx)(o.a,{children:Object(r.jsx)("title",{children:"Please Wait"})}),Object(r.jsx)("div",{className:"hash-loader",children:Object(r.jsx)(b.HashLoader,{color:"#017acd"})})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:null===O||void 0===O?void 0:O.statusText}),Object(r.jsx)("div",{className:"top-tweets-box",children:Object(r.jsx)(v,{})})]})}}}]);
//# sourceMappingURL=4.4bf7ce9c.chunk.js.map