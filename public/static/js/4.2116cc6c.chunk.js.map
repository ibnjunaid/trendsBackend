{"version":3,"sources":["components/Hashtag/Trending.js","components/Hashtag/GeoChart.js","components/Hashtag/Hashtag.js"],"names":["Trending","useContext","GlobalContext","city","country","setData","setTime","useState","setPlaceError","sessionData","window","sessionStorage","getItem","query","undefined","fetchAndSetData","d","JSON","parse","className","trends","filter","i","map","to","encodeURIComponent","name","index","GeoChart","mapData","toShow","getCode","value","trend","tweet_volume","color","size","data","tooltipBgColor","styleFunction","context","toret","fill","fillOpacity","countryValue","minValue","maxValue","stroke","strokeWidth","strokeOpacity","tooltipTextFunction","countryName","isoCode","Number","toString","fetchTrendData","tag","setTrendDetail","setFetchError","a","fetch","headers","method","body","stringify","response","ok","json","console","log","Hashtag","decodeURIComponent","parseTag","useParams","hashtag","selectedPlace","fetchError","place","setPlace","trendingLocations","trendDetail","useLayoutEffect","filterCity","useEffect","length","Helmet","content","property","t","onChange","e","target","selected","href","rel","changetoK","Page404"],"mappings":"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","file":"static/js/4.2116cc6c.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { GlobalContext } from \"../../global\";\nimport { fetchAndSetData } from \"../Content/Content\";\nimport { Link } from \"react-router-dom\";\n\nfunction Trending() {\n  const { city, country, setData, setTime } = useContext(GlobalContext);\n  const [placeError, setPlaceError] = useState(null);\n  \n  let sessionData = window.sessionStorage.getItem(\"data\");\n  if (sessionData === null) {\n    const query = city === undefined ? country : city;\n    fetchAndSetData(query, setData, setTime,setPlaceError);\n    sessionData = window.sessionStorage.getItem(\"data\");\n  }\n  const d = JSON.parse(sessionData);\n  if (d) {\n    return (\n      <>\n        <p className=\"tt-tag\">Trending Now</p>\n        <ul className=\"tt-trends\">\n          {d[0].trends\n            .filter((d, i) => i < 10)\n            .map((d) => (\n              <li key={d.index}>\n                <Link\n                  to={`/${country}${\n                    city === undefined ? \"\" : \"/\" + city\n                  }/trend/${window.encodeURIComponent(d.name)}`}\n                >\n                  {d.name}\n                </Link>\n              </li>\n            ))}\n        </ul>\n      </>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Trending;\n","import React from \"react\";\nimport { WorldMap } from \"react-svg-worldmap\";\nimport { getCode } from \"country-list\";\n\nfunction GeoChart(mapData) {\n  if (mapData) {\n    const countryCode = mapData.mapData.filter(\n      (d) => getCode(d.name) !== undefined\n    );\n    var toShow = countryCode.map((d) => {\n      const country = getCode(d.name);\n      const value = d.trend.tweet_volume + 1;\n      return { country, value };\n    });\n  }\n\n  const toolTipFuntion = (countryName, isoCode, value) => {\n    let ret;\n    if(Number(value) === 1) {\n      ret= countryName.toString();\n    } else {\n      ret = countryName +' : ' + value;\n    }\n    return ret;\n  }\n\n  const stylingFunction = (context ) => {\n    const opacityLevel = 0.5 + (1.5 * (context.countryValue - context.minValue) / (2*context.maxValue - context.minValue))\n    const toret = {\n        // fill: context.country === \"US\" ? \"blue\" : context.color, \n        fill: '#017acd',\n        fillOpacity: opacityLevel, \n        stroke: \"black\", \n        strokeWidth: 1,\n        strokeOpacity: 1.5, \n    }\n    if(context.countryValue === 1){\n      toret.fill = \"#c0c0c0\";\n      return toret;\n    }\n    return toret;\n}\n  return (\n    <div className=\"App\">\n      <WorldMap\n        color=\"red\"\n        size=\"md\"\n        data={toShow}\n        tooltipBgColor=\"#017acd\"\n        styleFunction={stylingFunction}\n        tooltipTextFunction={toolTipFuntion}\n      />\n    </div>\n  );\n}\n\nexport default GeoChart;\n","import { useEffect, useState, useContext, useLayoutEffect } from \"react\";\nimport Helmet from \"react-helmet\";\nimport { useParams } from \"react-router\";\nimport { GlobalContext } from \"../../global\";\nimport \"./hashtag.css\";\nimport { HashLoader } from \"react-spinners\";\nimport Trending from \"./Trending\";\nimport GeoChart from \"./GeoChart\";\nimport Page404 from \"../404Page/Page404.js\";\nimport { changetoK } from \"../Content/Tweet\";\n\nfunction parseTag(tag) {\n  tag = window.decodeURIComponent(tag);\n  return tag;\n}\n\nconst fetchTrendData = async (tag, setTrendDetail, setFetchError) => {\n  try {\n    const response = await fetch(\n      \"https://trendsend.herokuapp.com/apis/trends/trend-details\",\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        method: \"POST\",\n        body: JSON.stringify({ trend: tag }),\n      }\n    );\n    if (response.ok) {\n      const data = await response.json();\n      setTrendDetail(data.data);\n      setFetchError(null);\n    } else {\n      console.log(response);\n      throw response;\n    }\n  } catch (error) {\n    console.log(error);\n    setFetchError(error);\n  }\n};\n\nconst Hashtag = () => {\n  let params = useParams();\n  let tag = parseTag(params.hashtag);\n  const { city, country } = useContext(GlobalContext);\n  const selectedPlace = city === undefined ? country : city;\n  const [fetchError, setFetchError] = useState(null);\n  const [place, setPlace] = useState(selectedPlace);\n\n  const [trendDetail, setTrendDetail] = useState({ trendingLocations: [] });\n\n  useLayoutEffect(() => {\n    setPlace(place);\n  }, [place]);\n\n  const countryHandler = (e) => {\n    setPlace(e.target.value);\n  };\n  const filterCity = trendDetail.trendingLocations.filter(\n    (d) => d.name === place\n  );\n\n  useEffect(() => {\n    fetchTrendData(tag, setTrendDetail, setFetchError);\n  }, [tag, place]);\n\n  if (fetchError === null) {\n    if (trendDetail.trendingLocations.length >= 1) {\n      return (\n        <div className=\"hashtag\">\n          <Helmet>\n              <meta\n                name=\"description\"\n                content={`Find details abput Top trending hashtags in ${country} ${city}.`}\n              />\n              <meta\n                name=\"title\"\n                content={`Tweet Name is ${tag}`}\n              />\n\n              <meta property=\"og:type\" content=\"website\" />\n              <meta property=\"og:url\" content=\"https://alldaytrends.com/\" />\n              <meta\n                property=\"og:title\"\n                content={`This tweet is trending is these locations ${trendDetail.trendingLocations.map(t => t.name)}`}\n              />\n              <meta\n                property=\"og:description\"\n                content={`Total Number of tweets are ${filterCity[0]?.trend?.tweet_volume}`}\n              />\n              <meta property=\"og:image\" content=\"%PUBLIC_URL%/logo.png\" />\n\n              <meta property=\"twitter:card\" content=\"summary_large_image\" />\n              <meta\n                property=\"twitter:url\"\n                content=\"https://alldaytrends.com/\"\n              />\n              <meta\n                property=\"twitter:title\"\n                content={`This tweets is trending in ${trendDetail.trendingLocations.length} locations`}\n              />\n              <meta\n                property=\"twitter:description\"\n                content={`This tweets has the highest rank of ${filterCity[0]?.trend?.index}`}\n              />\n              <meta property=\"twitter:image\" content=\"%PUBLIC_URL%/logo.png\" />\n            <title>{tag}</title>\n          </Helmet>\n          <div className=\"hashtag-box\">\n            <div>\n              <h2 className=\"hash-line\">\n                Trending at\n                <span className=\"hash-index\">\n                  #{filterCity[0]?.trend?.index}\n                </span>\n                in\n                <select className=\"country-drop\" onChange={countryHandler}>\n                  {trendDetail.trendingLocations.map((t) => {\n                      return (\n                        <option selected={place === t.name} key={t.name}>\n                          {t.name}\n                        </option>\n                      );\n                  })}{\" \"}\n                </select>\n              </h2>\n              <div>\n                <a\n                  className=\"hashtag-name\"\n                  href={`https://twitter.com/search?q=${window.encodeURIComponent(\n                    tag\n                  )}&src=typed_query`}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  {tag}\n                </a>\n              </div>\n              <div className=\"details\">\n                <div>\n                  <span className=\"details-1\">\n                    {filterCity[0]?.trend?.tweet_volume === 0\n                      ? \"N.A\"\n                      : changetoK(filterCity[0]?.trend?.tweet_volume)}\n                  </span>\n                  No. of Tweets\n                </div>\n                <div>\n                  <span className=\"details-1\">\n                    #{filterCity[0]?.trend?.index}\n                  </span>\n                  Highest Rank\n                </div>\n              </div>\n              <div className=\"tweet-location\">\n                <p>\n                  Tweeted in\n                  <span>{trendDetail.trendingLocations.length}</span>\n                  other locations.\n                </p>\n              </div>\n              <div>\n                {\" \"}\n                {/* <MapChart data={trendDetail.trendingLocations}  /> */}\n                <GeoChart mapData={trendDetail.trendingLocations} />{\" \"}\n                {/* <ReactTooltip>{mapContent}</ReactTooltip> */}{\" \"}\n              </div>\n            </div>\n          </div>\n          <div className=\"top-tweets-box\">\n            <Trending />\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"hashtag\">\n          <Helmet>\n            <title>Please Wait</title>\n          </Helmet>\n          <div className=\"hash-loader\">\n            <HashLoader color=\"#017acd\" />\n          </div>\n        </div>\n      );\n    }\n  } else {\n    return <Page404 />;\n  }\n};\nexport default Hashtag;\n"],"sourceRoot":""}